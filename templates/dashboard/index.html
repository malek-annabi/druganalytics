{% extends 'partials/base.html' %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<div class='col-md-8'>
    <canvas id="myChart" width="400" height="300"></canvas>
    <canvas id="doughnut-chart" width="800" height="450"></canvas>
<script>
const ctx = document.getElementById('myChart').getContext('2d');
const myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: [
        {% for drugname in drugname %}
            '{{ drugname }}',
        {% endfor %}
        ],
        datasets: [{
            label: 'top 20 drugs with the 10/10 rating',
            data: [
            {% for drug_rating in drug_rating %}
            '{{ drug_rating }}',
            {% endfor %}
            ],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)','rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)','rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)','rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)','rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)','rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)','rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)','rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
            ],
            borderWidth: 1,
            barPercentage: 0.5,
        barThickness: 6,
        maxBarThickness: 8,
        minBarLength: 2,
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
const dtx = document.getElementById('doughnut-chart').getContext('2d');
const doughnut = new Chart(dtx, {
    type: 'doughnut',
    data: {
      labels: ["10", "1", "9", "8", "7", "5", "6", "4"],
      datasets: [
        {
          label: "donut chart to represent share of each ratings",
          backgroundColor: ['pink', 'cyan', 'maroon',  'magenta', 'orange', 'navy', 'lightgreen', 'yellow'],
          data: [68005, 46901, 36708, 25046, 12547, 10723, 8462, 6671]
        }
      ]
    },
    options: {
      title: {
        display: true,
        text: 'donut chart to represent share of each ratings'
      }
    }
});
</script>
</div>
{% endblock %}